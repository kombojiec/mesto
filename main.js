(()=>{"use strict";var e={134:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Nv:()=>d,zs:()=>oe,vV:()=>te,hC:()=>ne});const o=function(){function e(t,n,r,o,i,a,u,s,c,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._like=r,this._userId=i,o===this._userId?this._id=!0:this._id=!1,this._cardId=a,this._template=u,this._popup=document.querySelector(".popup_image"),this._popupFigureImage=document.querySelector(".popup__image"),this._handleCardClick=s,this._removeLike=c,this._addLike=l}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._template.content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._basket=this._element.querySelector(".element__basket"),this._id?this._basket.addEventListener("click",(function(){ne.open(e._cardId,e._element)})):this._basket.style.display="none",this._element.querySelector(".element__like").addEventListener("click",(function(){e._changeLike(e._cardId)})),this._element.querySelector(".element__image").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"_removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_checkOwnLike",value:function(){var e=this;this._like.forEach((function(t){t._id===e._userId&&e._likeElement.classList.add("element__like_active")}))}},{key:"toggleLikeData",value:function(e){this._likeValue=this._element.querySelector(".element__like-counter"),this._likeElement.classList.toggle("element__like_active"),this._likeValue.textContent=e}},{key:"_changeLike",value:function(){this._likeElement.classList.contains("element__like_active")?this._removeLike(this._cardId):this._addLike(this._cardId)}},{key:"createCardElement",value:function(){return this._element=this._getTemplate(),this._image=this._element.querySelector(".element__image"),this._likeElement=this._element.querySelector(".element__like"),this._checkOwnLike(),this._setEventListeners(),this._image.src=this._link,this._image.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._element.querySelector(".element__like-counter").textContent=this._like.length,this._element}}])&&r(t.prototype,n),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},u=new(function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cohort=t,this._authorization=n,this._url=r}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"getUser",value:function(){var e=this;return fetch(this._url+"/users/me",{headers:{authorization:this._authorization}}).then((function(t){return e._checkResponse(t)}))}},{key:"setUser",value:function(e){var t=this;return fetch(this._url+"/users/me",{method:"PATCH",headers:{authorization:this._authorization,"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t._checkResponse(e)}))}},{key:"getCards",value:function(){var e=this;return fetch(this._url+"/cards",{headers:{authorization:this._authorization}}).then((function(t){return e._checkResponse(t)}))}},{key:"addCard",value:function(e,t){var n=this;return fetch(this._url+"/cards",{method:"POST",headers:{authorization:this._authorization,"Content-type":"application/json"},body:JSON.stringify({name:e,link:t})}).then((function(e){return n._checkResponse(e)}))}},{key:"removeCard",value:function(e){var t=this;return fetch(this._url+"/cards/"+e,{method:"DELETE",headers:{authorization:this._authorization,"Content-type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch(this._url+"/cards/likes/"+e,{method:"PUT",headers:{authorization:this._authorization,"Content-type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch(this._url+"/cards/likes/"+e,{method:"DELETE",headers:{authorization:this._authorization,"Content-type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"changeAvatar",value:function(e){var t=this;return fetch(this._url+"/users/me/avatar",{method:"PATCH",headers:{authorization:this._authorization,"Content-type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._checkResponse(e)}))}}])&&i(t.prototype,n),e}())("cohort-17","41783898-48ae-4927-9db7-0ae982096860","https://mesto.nomoreparties.co/v1/cohort-17"),s=document.querySelector(".profile__edit-button"),c=document.querySelector(".popup_form_profile"),l=c.querySelector(".popup__input_place_name"),f=c.querySelector(".popup__input_place_business"),p=document.querySelector(".profile__add-button"),h=document.querySelector(".elements__template"),_=(document.querySelector(".profile__avatar"),document.querySelector(".profile__avatar-wrap")),y=document.querySelectorAll(a.formSelector);function v(e){return new o(e.name,e.link,e.likes,e.owner._id,"4ca33b1025ae9067ff8a99f8",e._id,h,m,k,g)}var m=function(e,t){te.open(e,t)};function d(e,t){e.querySelector(".popup__button").innerText=t}function b(e){console.error("Что-то пошло не так... Ошибка ".concat(e))}function k(e){var t=this;u.removeLike(e).then((function(e){t.toggleLikeData(e.likes.length)}))}function g(e){var t=this;u.addLike(e).then((function(e){t.toggleLikeData(e.likes.length)}))}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._input=t.inputSelector,this._submitButton=this._form.querySelector(t.submitButtonSelector),this._inactiveButton=t.inactiveButtonClass,this._inputList=Array.from(this._form.querySelectorAll(this._input)),this._inputErrorClass=t.errorClass,this._errorClass=t.errorClass}var t,n;return t=e,(n=[{key:"_showError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.classList.add(this._errorClass),t.textContent=e.validationMessage}},{key:"_hideError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableButton():(this._submitButton.removeAttribute("disabled",!0),this._submitButton.classList.remove(this._inactiveButton))}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkValidity(t),e._toggleButtonState()}))}))}},{key:"disableButton",value:function(){this._submitButton.setAttribute("disabled",!0),this._submitButton.classList.add(this._inactiveButton)}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&E(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e,t){t?this._container.prepend(e):this._container.append(e)}}])&&w(t.prototype,n),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._closeOverlay=this._closeOverlay.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("click",this._closeOverlay)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("click",this._closeOverlay)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_closeOverlay",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){e.close()}))}}])&&C(t.prototype,n),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e){var t,n=e.popupSelector,r=e.imageSelector,o=e.imageFigcaption;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._image=t._popup.querySelector(r),t._imageFigcaption=t._popup.querySelector(o),t}return t=a,(n=[{key:"open",value:function(e,t){q(T(a.prototype),"open",this).call(this),this._image.src=t,this._image.alt=e,this._imageFigcaption.textContent=e}}])&&P(t.prototype,n),a}(O);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e,t){var n,r=e.formElement,o=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,o))._form=r,n._handleFormSubmit=t,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._form.querySelectorAll(".popup__input"),this._inputValues={},this._inputList.forEach((function(t){e._inputValues[t.name]=t.value})),this._inputValues}},{key:"close",value:function(){V(A(a.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;V(A(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),d(e._form,"Сохранение"),e._handleFormSubmit(e._getInputValues())}))}}])&&B(t.prototype,n),a}(O);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.name),this._business=document.querySelector(t.business),this._avatar=document.querySelector(t.avatar)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._infoValues={},this._infoValues.name=this._name.textContent,this._infoValues.business=this._business.textContent,this._infoValues}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._business.textContent=e.about,this._avatar.src=e.avatar}}])&&N(t.prototype,n),e}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(o){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._setSumbitCallback=t,n}return t=a,(n=[{key:"open",value:function(e,t){G(W(a.prototype),"open",this).call(this),this._id=e,this._element=t}},{key:"setEventListeners",value:function(){var e=this;G(W(a.prototype),"setEventListeners",this).call(this),this._popup.querySelector(".popup__button_remove").addEventListener("click",(function(t){t.preventDefault(),e._setSumbitCallback(e._id,e._element)}))}}])&&M(t.prototype,n),a}(O),Y=new J({name:".profile__name",business:".profile__business",avatar:".profile__avatar"});u.getUser().then((function(e){return Y.setUserInfo(e)}));var Z=new F({formElement:y[0],popupSelector:".popup_form_profile"},(function(e){u.setUser(e).then((function(e){Y.setUserInfo(e),Z.close()})).catch((function(e){oe.open(),b(e)})).finally((function(){d(y[0],"Сохранить")}))}));s.addEventListener("click",(function(){l.value=Y.getUserInfo().name,f.value=Y.getUserInfo().business,Z.open()})),Z.setEventListeners();var $=new L({items:[],renderer:function(e){var t=v(e);$.addItem(t.createCardElement())}},".elements");u.getCards().then((function(e){e.forEach((function(e){var t=v(e);$.addItem(t.createCardElement())}))}));var ee=new F({formElement:y[1],popupSelector:".popup_form_card"},(function(e){u.addCard(e["card-name"],e["card-sourse"]).then((function(e){var t=v(e);$.addItem(t.createCardElement(),!0)})).then((function(){return ee.close()})).catch((function(e){oe.open(),b(e)})).finally((function(){return d(y[1],"Создать")}))})),te=new x({popupSelector:".popup_image",imageSelector:".popup__image",imageFigcaption:".popup__figcaption"});te.setEventListeners(),ee.setEventListeners(),p.addEventListener("click",(function(){ee.open(),ie.disableButton(y[1].querySelector(".popup__button"))}));var ne=new X(".popup_remove",(function(e,t){var n=this;u.removeCard(e).then((function(){t.remove(),n.close()})).catch((function(e){oe.open(),b(e)}))}));ne.setEventListeners();var re=new F({formElement:y[3],popupSelector:".popup_avatar"},(function(e){u.changeAvatar(e["avatar-sourse"]).then((function(e){Y.setUserInfo(e),re.close()})).catch((function(e){oe.open(),b(e)})).finally((function(){return d(y[3],"Сохранить")}))}));re.setEventListeners(),_.addEventListener("click",(function(){re.open()}));var oe=new O(".popup_error");oe.setEventListeners(),new S(a,y[0]).enableValidation();var ie=new S(a,y[1]);ie.enableValidation(),new S(a,y[3]).enableValidation()}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(134)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbGVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJuYW1lIiwibGluayIsImxpa2UiLCJpZCIsIm93bmVySW5mb0lkIiwiY2FyZElkIiwidGVtcGxhdGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJyZW1vdmVMaWtlIiwiYWRkTGlrZSIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2xpa2UiLCJfdXNlcklkIiwiX2lkIiwiX2NhcmRJZCIsIl90ZW1wbGF0ZSIsIl9wb3B1cCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9wb3B1cEZpZ3VyZUltYWdlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9yZW1vdmVMaWtlIiwiX2FkZExpa2UiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2Jhc2tldCIsIl9lbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZVBvcHVwIiwic3R5bGUiLCJkaXNwbGF5IiwiX2NoYW5nZUxpa2UiLCJyZW1vdmUiLCJmb3JFYWNoIiwiX2xpa2VFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwidmFsdWUiLCJfbGlrZVZhbHVlIiwidG9nZ2xlIiwidGV4dENvbnRlbnQiLCJjb250YWlucyIsIl9nZXRUZW1wbGF0ZSIsIl9pbWFnZSIsIl9jaGVja093bkxpa2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJmb3JtT2JqZWN0IiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJhcGkiLCJjb2hvcnQiLCJhdXRob3JpemF0aW9uIiwidXJsIiwiX2NvaG9ydCIsIl9hdXRob3JpemF0aW9uIiwiX3VybCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsImhlYWRlcnMiLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJwcm9maWxlQnV0dG9uIiwicG9wdXBQcm9maWxlIiwiYXV0aG9ySW5wdXQiLCJidXNpbmVzc0lucHV0IiwiY2FyZEJ1dHRvbiIsImNhcmRUZW1wbGF0ZSIsImF2YXRhckl0ZW0iLCJmb3JtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjcmVhdGVDYXJkIiwiaXRlbSIsIkNhcmQiLCJsaWtlcyIsIm93bmVyIiwiaW1hZ2VQb3B1cCIsImNoYW5nZUJ1dHRvblZhbHVlIiwiZm9ybSIsInRleHQiLCJpbm5lclRleHQiLCJjb25zb2xlRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJyZXNwb25zZSIsInRvZ2dsZUxpa2VEYXRhIiwib2JqZWN0IiwiZm9ybUVsZW1lbnQiLCJfZm9ybSIsIl9pbnB1dCIsIl9zdWJtaXRCdXR0b24iLCJfaW5hY3RpdmVCdXR0b24iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiaW5wdXQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja1ZhbGlkaXR5Iiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInBvc2l0aW9uIiwicHJlcGVuZCIsImFwcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfY2xvc2VPdmVybGF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiaW1hZ2VTZWxlY3RvciIsImltYWdlRmlnY2FwdGlvbiIsIl9pbWFnZUZpZ2NhcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0VmFsdWVzIiwicmVzZXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJVc2VySW5mbyIsIl9idXNpbmVzcyIsImJ1c2luZXNzIiwiX2F2YXRhciIsIl9pbmZvVmFsdWVzIiwiYWJvdXQiLCJQb3B1cENvbmZpcm1hdGlvbiIsInNldFN1bWJpdENhbGxiYWNrIiwiX3NldFN1bWJpdENhbGxiYWNrIiwicHJvZmlsZUluZm8iLCJnZXRVc2VyIiwic2V0VXNlckluZm8iLCJzaG93UHJvZmlsZVBvcHVwIiwiZXJyb3JQb3B1cCIsIm9wZW4iLCJnZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVuZGVyQ2FyZCIsImNhcmQiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZEVsZW1lbnQiLCJnZXRDYXJkcyIsImFycmF5IiwibmV3UG9wdXAiLCJpbnB1dERhdGEiLCJmb3JtQ2FyZFZhbGlkYXRvciIsInJlbW92ZUNhcmQiLCJhdmF0YXJQb3B1cCIsIkZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sIm1hcHBpbmdzIjoiOFBBMkZBLFEsV0FyRkUsV0FBWUEsRUFBTUMsRUFBTUMsRUFBTUMsRUFBSUMsRUFDdEJDLEVBQVFDLEVBQVVDLEVBQ2xCQyxFQUFZQyxJLDRGQUFRLFNBQzlCQyxLQUFLQyxNQUFRWCxFQUNiVSxLQUFLRSxNQUFRWCxFQUNiUyxLQUFLRyxNQUFRWCxFQUNiUSxLQUFLSSxRQUFVVixFQUNmRCxJQUFPTyxLQUFLSSxRQUNaSixLQUFLSyxLQUFNLEVBQU1MLEtBQUtLLEtBQU0sRUFDNUJMLEtBQUtNLFFBQVVYLEVBQ2ZLLEtBQUtPLFVBQVlYLEVBQ2pCSSxLQUFLUSxPQUFTQyxTQUFTQyxj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bnRlbnQiOlsiaW1wb3J0IHtyZW1vdmVQb3B1cH0gZnJvbSAnLi4vcGFnZXMvaW5kZXguanMnO1xyXG5pbXBvcnQge2FwaX0gZnJvbSAnLi4vdXRpbGVzL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCB7b3duZXJJbmZvfSBmcm9tICcuLi91dGlsZXMvY29uc3RhbnRzLmpzJztcclxuXHJcblxyXG5jbGFzcyBDYXJke1xyXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIGxpa2UsIGlkLCBvd25lckluZm9JZCwgXHJcbiAgICAgICAgICAgICAgY2FyZElkLCB0ZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrLCBcclxuICAgICAgICAgICAgICByZW1vdmVMaWtlLCBhZGRMaWtlKXtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9saWtlID0gbGlrZTsgLy/QvNCw0YHRgdC40LIgXHJcbiAgICB0aGlzLl91c2VySWQgPSBvd25lckluZm9JZDtcclxuICAgIGlkID09PSB0aGlzLl91c2VySWQ/XHJcbiAgICB0aGlzLl9pZCA9IHRydWU6IHRoaXMuX2lkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlOyAgXHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9pbWFnZScpO1xyXG4gICAgdGhpcy5fcG9wdXBGaWd1cmVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX3JlbW92ZUxpa2UgPSByZW1vdmVMaWtlO1xyXG4gICAgdGhpcy5fYWRkTGlrZSA9IGFkZExpa2U7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKXtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl90ZW1wbGF0ZVxyXG4gICAgICAuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICByZXR1cm4gZWxlbWVudDsgICAgICAgIFxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICB0aGlzLl9iYXNrZXQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19iYXNrZXQnKTtcclxuICAgIGlmKHRoaXMuX2lkKXtcclxuICAgICAgdGhpcy5fYmFza2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XHJcbiAgICAgICAgcmVtb3ZlUG9wdXAub3Blbih0aGlzLl9jYXJkSWQsIHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH1lbHNle1xyXG4gICAgICB0aGlzLl9iYXNrZXQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuICAgIH0gICAgXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgICB0aGlzLl9jaGFuZ2VMaWtlKHRoaXMuX2NhcmRJZCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltYWdlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVDYXJkKCl7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0L3QsNC70LjRh9C40LUg0LvQuNGH0L3QvtCz0L4g0LvQsNC50LrQsFxyXG4gIF9jaGVja093bkxpa2UoKXtcclxuICAgIHRoaXMuX2xpa2UuZm9yRWFjaChsaWtlID0+IHtcclxuICAgICAgaWYobGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCl7XHJcbiAgICAgICAgdGhpcy5fbGlrZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlRGF0YSh2YWx1ZSl7XHJcbiAgICB0aGlzLl9saWtlVmFsdWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50ZXInKTtcclxuICAgIHRoaXMuX2xpa2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgICB0aGlzLl9saWtlVmFsdWUudGV4dENvbnRlbnQgPSB2YWx1ZTsgXHJcbiAgfVxyXG5cclxuICBfY2hhbmdlTGlrZSgpe1xyXG4gICAgaWYodGhpcy5fbGlrZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlX2FjdGl2ZScpKXsgIFxyXG4gICAgICB0aGlzLl9yZW1vdmVMaWtlKHRoaXMuX2NhcmRJZCk7ICAgICAgXHJcbiAgICB9ZWxzZXsgICAgXHJcbiAgICAgIHRoaXMuX2FkZExpa2UodGhpcy5fY2FyZElkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNyZWF0ZUNhcmRFbGVtZW50KCl7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX2xpa2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZScpOyAgXHJcbiAgICB0aGlzLl9jaGVja093bkxpa2UoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1jb3VudGVyJykudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlLmxlbmd0aDtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH0gIFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkOyIsIi8vIEltcG9ydCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9jYXJkLmpzJztcclxuaW1wb3J0IHtpbWFnZVBvcHVwLCBlcnJvclBvcHVwfSBmcm9tICcuLi9wYWdlcy9pbmRleC5qcyc7XHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xyXG5cclxuLy8gQXJyYXlzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW3tcclxuICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xyXG59LFxyXG57XHJcbiAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZydcclxufSxcclxue1xyXG4gIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcclxufSxcclxue1xyXG4gIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXHJcbn0sXHJcbntcclxuICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZydcclxufSxcclxue1xyXG4gIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcclxufVxyXG5dO1xyXG5cclxuXHJcblxyXG4vLyBPYmplY3RzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBmb3JtT2JqZWN0ID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idXR0b24nLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2Rpc2FibGVkJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJyAgXHJcbn07XHJcblxyXG5jb25zdCBvd25lckluZm8gPSB7XHJcbiAgaWQ6IFwiNGNhMzNiMTAyNWFlOTA2N2ZmOGE5OWY4XCIsXHJcbiAgY29ob3J0OiAnY29ob3J0LTE3JyxcclxuICBhdXRob3JpemF0aW9uOiAnNDE3ODM4OTgtNDhhZS00OTI3LTlkYjctMGFlOTgyMDk2ODYwJyxcclxuICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTE3JyxcclxufTtcclxuXHJcblxyXG4vLyBDb25zdGFudHM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuY29uc3QgYXBpID0gbmV3IEFwaShvd25lckluZm8uY29ob3J0LCBvd25lckluZm8uYXV0aG9yaXphdGlvbiwgb3duZXJJbmZvLnVybCk7XHJcbmNvbnN0IHByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2Zvcm1fcHJvZmlsZScpO1xyXG5jb25zdCBhdXRob3JJbnB1dCA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3BsYWNlX25hbWUnKTtcclxuY29uc3QgYnVzaW5lc3NJbnB1dCA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3BsYWNlX2J1c2luZXNzJyk7XHJcbmNvbnN0IGNhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX3RlbXBsYXRlJyk7XHJcbmNvbnN0IGF2YXRhckNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XHJcbmNvbnN0IGF2YXRhckl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLXdyYXAnKTtcclxuY29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGZvcm1PYmplY3QuZm9ybVNlbGVjdG9yKTtcclxuXHJcblxyXG5cclxuLy8gRnVuY3Rpb25zPT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pe1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGl0ZW0ubmFtZSxcclxuICAgIGl0ZW0ubGluaywgXHJcbiAgICBpdGVtLmxpa2VzLFxyXG4gICAgaXRlbS5vd25lci5faWQsIFxyXG4gICAgb3duZXJJbmZvLmlkLFxyXG4gICAgaXRlbS5faWQsXHJcbiAgICBjYXJkVGVtcGxhdGUsICBcclxuICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgIHJlbW92ZUxpa2UsXHJcbiAgICBhZGRMaWtlKTtcclxuICAgIHJldHVybiBjYXJkO1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAobmFtZSwgbGluayk9PntcclxuICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluayk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VCdXR0b25WYWx1ZShmb3JtLHRleHQpe1xyXG4gIGZvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKS5pbm5lclRleHQgPSB0ZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb25zb2xlRXJyb3IoZXJyb3Ipe1xyXG4gIGNvbnNvbGUuZXJyb3IoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0LouLi4g0J7RiNC40LHQutCwICR7ZXJyb3J9YCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFN1bWJpdENhbGxiYWNrKGlkLCBlbGVtZW50KXtcclxuICBhcGkucmVtb3ZlQ2FyZChpZClcclxuICAudGhlbigoKSA9PntcclxuICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycm9yKT0+IHtcclxuICAgIGVycm9yUG9wdXAub3BlbigpO1xyXG4gICAgY29uc29sZUVycm9yKGVycm9yKTtcclxuICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUxpa2UoaWQpe1xyXG4gICAgYXBpLnJlbW92ZUxpa2UoaWQpXHJcbiAgICAudGhlbihyZXNwb25zZSA9PiB7ICAgICBcclxuICAgICAgdGhpcy50b2dnbGVMaWtlRGF0YShyZXNwb25zZS5saWtlcy5sZW5ndGgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhZGRMaWtlKGlkKXtcclxuICAgIGFwaS5hZGRMaWtlKGlkKVxyXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4geyAgICAgXHJcbiAgICAgIHRoaXMudG9nZ2xlTGlrZURhdGEocmVzcG9uc2UubGlrZXMubGVuZ3RoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbi8vIEV4cG9ydD09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCB7YXBpLCBpbml0aWFsQ2FyZHMsIFxyXG4gIGZvcm1PYmplY3QsICAgcHJvZmlsZUJ1dHRvbiwgXHJcbiAgYXV0aG9ySW5wdXQsIGJ1c2luZXNzSW5wdXQsIFxyXG4gIGNhcmRCdXR0b24sIGNhcmRUZW1wbGF0ZSxcclxuICBmb3JtcywgYXZhdGFyQ29udGVudCwgYXZhdGFySXRlbSwgXHJcbiAgY3JlYXRlQ2FyZCwgY2hhbmdlQnV0dG9uVmFsdWUsIFxyXG4gIGNvbnNvbGVFcnJvciwgc2V0U3VtYml0Q2FsbGJhY2t9OyIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGNvaG9ydCwgYXV0aG9yaXphdGlvbiwgdXJsKSB7XHJcbiAgICB0aGlzLl9jb2hvcnQgPSBjb2hvcnQ7XHJcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uID0gYXV0aG9yaXphdGlvbjtcclxuICAgIHRoaXMuX3VybCA9IHVybDtcclxuICB9XHJcblxyXG4gIC8v0JzQtdGC0L7QtCDQv9GA0L7QstC10YDQutC4INGB0YLQsNGC0YPRgdCwXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKXtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1cyk7XHJcbiAgfVxyXG5cclxuICAvL9Cf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgZ2V0VXNlcigpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwgKyAnL3VzZXJzL21lJywge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb25cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgLy8g0KPRgdGC0LDQvdC+0LLQutCwINC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICBzZXRVc2VyKGRhdGEpe1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArICcvdXNlcnMvbWUnLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIC8vINCf0L7Qu9GD0YfQtdC90LjQtSDQvNCw0YHRgdC40LLQsCDQutCw0YDRgtC+0YfQtdC6XHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsICsgJy9jYXJkcycsIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIC8vINCU0L7QsdCw0LLQu9C90LXQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbiAgYWRkQ2FyZChuYW1lLCBsaW5rKXtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwgKyAnL2NhcmRzJywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGlua1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vINCj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIHJlbW92ZUNhcmQoaWQpe1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArICcvY2FyZHMvJyArIGlkLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sICAgICAgXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQu9Cw0LnQutCwXHJcbiAgYWRkTGlrZShpZCl7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsICsgJy9jYXJkcy9saWtlcy8nICsgaWQsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSwgICAgICBcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIC8vINCj0LTQsNC70LXQvdC40LUg0LvQsNC50LrQsFxyXG4gIHJlbW92ZUxpa2UoaWQpe1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArICcvY2FyZHMvbGlrZXMvJyArIGlkLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sICAgICAgXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvLyDQodC80LXQvdCwINCw0LLQsNGC0LDRgNCwXHJcbiAgY2hhbmdlQXZhdGFyKHVybCl7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsICsgJy91c2Vycy9tZS9hdmF0YXInICwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sICAgICAgXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IHVybCxcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcclxuICB9XHJcbiAgXHJcblxyXG59IiwiY2xhc3MgRm9ybVZhbGlkYXRvcntcclxuICBjb25zdHJ1Y3RvcihvYmplY3QsIGZvcm1FbGVtZW50KXtcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0ID0gIG9iamVjdC5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKG9iamVjdC5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbiA9ICBvYmplY3QuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0KSk7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSAgb2JqZWN0LmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gIG9iamVjdC5lcnJvckNsYXNzO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dFcnJvcihpbnB1dCl7XHJcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7ICAgIFxyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTsgXHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVFcnJvcihpbnB1dCl7XHJcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpOyBcclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja1ZhbGlkaXR5KGlucHV0KXtcclxuICAgIGlmKCFpbnB1dC52YWxpZGl0eS52YWxpZCl7XHJcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCl7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoaW5wdXQgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKXtcclxuICAgIGlmKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKXsgICAgICBcclxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b24pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCl7ICAgIFxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+e1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpPT57ICBcclxuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KGlucHV0KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pOyAgICBcclxuICB9XHJcblxyXG4gIGRpc2FibGVCdXR0b24oKXtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbik7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCl7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT57XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7ICAgICAgXHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9ue1xyXG4gIGNvbnN0cnVjdG9yKHtpdGVtcywgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcil7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKXtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQsIHBvc2l0aW9uKXtcclxuICAgIHBvc2l0aW9uID9cclxuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk6XHJcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpOyAgXHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7ICBcclxuICAgIHRoaXMuX2Nsb3NlT3ZlcmxheSA9IHRoaXMuX2Nsb3NlT3ZlcmxheS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3Blbigpe1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7ICBcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlT3ZlcmxheSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpe1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZU92ZXJsYXkpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KXsgICAgXHJcbiAgICBpZihldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpe1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2xvc2VPdmVybGF5KGV2ZW50KXtcclxuICAgIGlmKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCl7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCl7ICAgXHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9ICBcclxuXHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyAgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cHtcclxuICBjb25zdHJ1Y3Rvcih7cG9wdXBTZWxlY3RvciwgaW1hZ2VTZWxlY3RvciwgaW1hZ2VGaWdjYXB0aW9ufSl7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihpbWFnZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlRmlnY2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoaW1hZ2VGaWdjYXB0aW9uKTtcclxuXHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspe1xyXG4gICAgc3VwZXIub3BlbigpOyAgXHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlRmlnY2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuaW1wb3J0IHtcclxuICBjaGFuZ2VCdXR0b25WYWx1ZVxyXG59IGZyb20gJy4uL3BhZ2VzL2luZGV4LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgZm9ybUVsZW1lbnQsXHJcbiAgICBwb3B1cFNlbGVjdG9yXHJcbiAgfSwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcblxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcclxuICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNoYW5nZUJ1dHRvblZhbHVlKHRoaXMuX2Zvcm0sICfQodC+0YXRgNCw0L3QtdC90LjQtScpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7YXBpfSBmcm9tICcuLi91dGlsZXMvY29uc3RhbnRzLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZve1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEpe1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5uYW1lKTtcclxuICAgIHRoaXMuX2J1c2luZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLmJ1c2luZXNzKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5hdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKXtcclxuICAgIHRoaXMuX2luZm9WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2luZm9WYWx1ZXMubmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9pbmZvVmFsdWVzLmJ1c2luZXNzID0gdGhpcy5fYnVzaW5lc3MudGV4dENvbnRlbnQ7XHJcbiAgICByZXR1cm4gdGhpcy5faW5mb1ZhbHVlcztcclxuICB9XHJcbiAgXHJcbiAgc2V0VXNlckluZm8oZGF0YSl7XHJcbiAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgIHRoaXMuX2J1c2luZXNzLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHNldFN1bWJpdENhbGxiYWNrKXtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc2V0U3VtYml0Q2FsbGJhY2sgPSBzZXRTdW1iaXRDYWxsYmFjaztcclxuICB9XHJcblxyXG4gIG9wZW4oaWQsIGVsZW1lbnQpe1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5faWQgPSBpZDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl9yZW1vdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+e1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zZXRTdW1iaXRDYWxsYmFjayh0aGlzLl9pZCwgdGhpcy5fZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09bW9kdWxlcy1pbXBvcnQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCB7YXBpLCBmb3JtT2JqZWN0LCBwcm9maWxlQnV0dG9uLCBcclxuICAgICAgICBhdXRob3JJbnB1dCwgYnVzaW5lc3NJbnB1dCwgXHJcbiAgICAgICAgY2FyZEJ1dHRvbiwgY2FyZFRlbXBsYXRlLCAvKmNhcmRTZWN0aW9uLCovXHJcbiAgICAgICAgZm9ybXMsIGF2YXRhckNvbnRlbnQsIGF2YXRhckl0ZW0sIFxyXG4gICAgICAgIGNyZWF0ZUNhcmQsIGNoYW5nZUJ1dHRvblZhbHVlLCBcclxuICAgICAgICBjb25zb2xlRXJyb3IsIHNldFN1bWJpdENhbGxiYWNrfSBmcm9tICcuLi91dGlsZXMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy92YWxpZGF0aW9uLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IFBvcHVwQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtYXRpb24uanMnO1xyXG5cclxuXHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1lZGl0UHJvZmlsZT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZTogJy5wcm9maWxlX19uYW1lJyxcclxuICBidXNpbmVzczogJy5wcm9maWxlX19idXNpbmVzcycsXHJcbiAgYXZhdGFyOiAnLnByb2ZpbGVfX2F2YXRhcicsXHJcbn0pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBhcGkuZ2V0VXNlcigpO1xyXG5cclxudXNlckluZm8udGhlbihkYXRhID0+IHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGRhdGEpKTtcclxuXHJcbmNvbnN0IHNob3dQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgZm9ybUVsZW1lbnQ6IGZvcm1zWzBdLFxyXG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfZm9ybV9wcm9maWxlJyx9LFxyXG4gIChkYXRhKSA9PiB7XHJcbiAgYXBpLnNldFVzZXIoZGF0YSlcclxuICAgIC50aGVuKHJlcyA9PntcclxuICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgc2hvd1Byb2ZpbGVQb3B1cC5jbG9zZSgpOyAgICAgIFxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyb3IpPT4ge1xyXG4gICAgICBlcnJvclBvcHVwLm9wZW4oKTtcclxuICAgICAgY29uc29sZUVycm9yKGVycm9yKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKT0+IHtcclxuICAgICAgY2hhbmdlQnV0dG9uVmFsdWUoZm9ybXNbMF0sICfQodC+0YXRgNCw0L3QuNGC0YwnKTt9KTtcclxufSk7XHJcblxyXG5wcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICBhdXRob3JJbnB1dC52YWx1ZSA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCkubmFtZTtcclxuICBidXNpbmVzc0lucHV0LnZhbHVlID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKS5idXNpbmVzcztcclxuICBzaG93UHJvZmlsZVBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5zaG93UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1hZGRDYXJkcz09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5jb25zdCByZW5kZXJDYXJkID0gbmV3IFNlY3Rpb24oe1xyXG4gIGl0ZW1zOiBbXSxcclxuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xyXG4gICAgcmVuZGVyQ2FyZC5hZGRJdGVtKGNhcmQuY3JlYXRlQ2FyZEVsZW1lbnQoKSk7XHJcbiAgfVxyXG59LCAnLmVsZW1lbnRzJyk7XHJcblxyXG5hcGkuZ2V0Q2FyZHMoKVxyXG4udGhlbihhcnJheSA9PiB7XHJcbiAgYXJyYXkuZm9yRWFjaChpdGVtID0+eyAgICBcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xyXG4gICAgcmVuZGVyQ2FyZC5hZGRJdGVtKGNhcmQuY3JlYXRlQ2FyZEVsZW1lbnQoKSk7ICAgIFxyXG4gIH0pO1xyXG59KTtcclxuXHJcbmNvbnN0IG5ld1BvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe2Zvcm1FbGVtZW50OiBmb3Jtc1sxXSxcclxuICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX2Zvcm1fY2FyZCd9LCBcclxuICAoaW5wdXREYXRhKT0+e1xyXG4gICAgYXBpLmFkZENhcmQoaW5wdXREYXRhWydjYXJkLW5hbWUnXSwgaW5wdXREYXRhWydjYXJkLXNvdXJzZSddKVxyXG4gICAgLnRoZW4oaXRlbSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xyXG4gICAgICByZW5kZXJDYXJkLmFkZEl0ZW0oY2FyZC5jcmVhdGVDYXJkRWxlbWVudCgpLCB0cnVlKTsgXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCkgPT4gbmV3UG9wdXAuY2xvc2UoKSlcclxuICAgIC5jYXRjaCgoZXJyb3IpPT4ge1xyXG4gICAgICBlcnJvclBvcHVwLm9wZW4oKTtcclxuICAgICAgY29uc29sZUVycm9yKGVycm9yKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKT0+IGNoYW5nZUJ1dHRvblZhbHVlKGZvcm1zWzFdLCAn0KHQvtC30LTQsNGC0YwnKSk7XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoe1xyXG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfaW1hZ2UnLFxyXG4gIGltYWdlU2VsZWN0b3I6ICcucG9wdXBfX2ltYWdlJyxcclxuICBpbWFnZUZpZ2NhcHRpb246ICcucG9wdXBfX2ZpZ2NhcHRpb24nXHJcbn0pO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5uZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICBuZXdQb3B1cC5vcGVuKCk7XHJcbiAgZm9ybUNhcmRWYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbihmb3Jtc1sxXS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpKTtcclxufSk7XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PXJlbW92ZVBvcHVwPT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbmNvbnN0IHJlbW92ZVBvcHVwID0gbmV3IFBvcHVwQ29uZmlybWF0aW9uKCcucG9wdXBfcmVtb3ZlJywgc2V0U3VtYml0Q2FsbGJhY2spO1xyXG5yZW1vdmVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YXZhdGFyUG9wdXA9PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgZm9ybUVsZW1lbnQ6IGZvcm1zWzNdLFxyXG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfYXZhdGFyJyx9LCBcclxuICAoaW5wdXREYXRhKSA9PntcclxuICBhcGkuY2hhbmdlQXZhdGFyKGlucHV0RGF0YVsnYXZhdGFyLXNvdXJzZSddKVxyXG4gIC50aGVuKChkYXRhKSA9PntcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgYXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpPT4ge1xyXG4gICAgZXJyb3JQb3B1cC5vcGVuKCk7XHJcbiAgICBjb25zb2xlRXJyb3IoZXJyb3IpO1xyXG4gIH0pXHJcbiAgLmZpbmFsbHkoKCk9PiAgY2hhbmdlQnV0dG9uVmFsdWUoZm9ybXNbM10sICfQodC+0YXRgNCw0L3QuNGC0YwnKSk7XHJcbn0pO1xyXG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYXZhdGFySXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PntcclxuICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ZXJyb3JQb3B1cD09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5jb25zdCBlcnJvclBvcHVwID0gbmV3IFBvcHVwKCcucG9wdXBfZXJyb3InKTtcclxuZXJyb3JQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09dmFsaWRhdGlvbkZvcm1zPT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbiAgY29uc3QgZm9ybVByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtT2JqZWN0LCBmb3Jtc1swXSk7XHJcbiAgZm9ybVByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuICBjb25zdCBmb3JtQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1PYmplY3QsIGZvcm1zWzFdKTtcclxuICBmb3JtQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4gIGNvbnN0IGZvcm1BdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtT2JqZWN0LCBmb3Jtc1szXSk7XHJcbiAgZm9ybUF2YXRhclZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1tb2R1bGVzLWV4cG9ydD09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5leHBvcnQge3JlbW92ZVBvcHVwLCBjaGFuZ2VCdXR0b25WYWx1ZSwgaW1hZ2VQb3B1cCwgZXJyb3JQb3B1cH07XHJcblxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=